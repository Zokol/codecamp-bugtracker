@model bugtracker.Models.BugEventList

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<fieldset>
    <legend>Bug #@Html.DisplayFor(model => model.Bug.ID)</legend>

    <div class="display-label">Title</div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Bug.Title)
    </div>

    <div class="display-label">Description</div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Bug.Description)
    </div>

    <div class="display-label">Criticality</div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Bug.Criticality)
    </div>

    <div class="display-label">Priority</div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Bug.Priority)
    </div>

    <div class="display-label">Status</div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Bug.Status)
    </div>

</fieldset>

<h2>Event History</h2>

<fieldset>
<table>
    <tr>
        <th>
            Create Time
        </th>
        <th>
            BugID
        </th>
        <th>
            User
        </th>
        <th>
            Comment
        </th>
        <th></th>
    </tr>

@foreach (var item in Model.Events)
{
    if (Model.Bug.ID == item.BugID)
    {        
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.CreateTime)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.BugID)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.User)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Comment)
        </td>
    </tr>
    }
}

</table>
</fieldset>